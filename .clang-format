# clang-format configuration for ESP32 projects
# Based on ESP-IDF coding style (LLVM-based with customizations)
# Copy this file to your ESP32 project root

---
# Base style
BasedOnStyle: LLVM

# Indentation
IndentWidth: 4
TabWidth: 4
UseTab: Never
ContinuationIndentWidth: 4
IndentCaseLabels: false
IndentPPDirectives: None

# Line length
ColumnLimit: 120

# Braces
BreakBeforeBraces: Linux
BraceWrapping:
  AfterControlStatement: false
  AfterFunction: true
  AfterStruct: false
  AfterEnum: false

# Spacing
SpaceBeforeParens: ControlStatements
SpaceAfterCStyleCast: false
SpaceBeforeAssignmentOperators: true
SpacesInParentheses: false
SpacesInSquareBrackets: false

# Alignment
AlignConsecutiveMacros: AcrossComments
AlignConsecutiveAssignments: None
AlignConsecutiveDeclarations: None
AlignTrailingComments: true
AlignOperands: true

# Pointers and references
PointerAlignment: Right
DerivePointerAlignment: false

# Includes
SortIncludes: true
IncludeBlocks: Preserve

# Comments
ReflowComments: true

# Function formatting
AllowShortFunctionsOnASingleLine: None
AllowShortIfStatementsOnASingleLine: Never
AllowShortLoopsOnASingleLine: false
AlwaysBreakAfterReturnType: None

# Breaking
AlwaysBreakBeforeMultilineStrings: false
BreakBeforeBinaryOperators: None
BreakStringLiterals: true

# Other
MaxEmptyLinesToKeep: 1
KeepEmptyLinesAtTheStartOfBlocks: false
